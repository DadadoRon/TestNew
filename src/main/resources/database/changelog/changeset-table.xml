<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
        https://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.6.xsd">
    <changeSet id="1" author="DadadoRon">
        <sql>
            CREATE TABLE company_user (
                id BIGINT NOT NULL GENERATED BY DEFAULT AS IDENTITY,
                login varchar(255) NOT NULL,

                CONSTRAINT company_user_pkey PRIMARY KEY (id),
                CONSTRAINT company_user_uniq_login UNIQUE (login)
            );
        </sql>
    </changeSet>
    <changeSet id="2" author="DadadoRon">
        <sql>
            CREATE TABLE patient_profile (
                id BIGINT NOT NULL GENERATED BY DEFAULT AS IDENTITY,
                first_name varchar(255) NULL,
                last_name varchar(255) NULL,
                old_client_guids varchar(255) NULL,
                status_id SMALLINT NOT NULL,

                CONSTRAINT patient_profile_pkey PRIMARY KEY (id)
            );
            INSERT INTO patient_profile (first_name, last_name, old_client_guids, status_id) VALUES
                ('Ivan', 'Ivanov', '550e8400-e29b-41d4-a716-446655440000', 200),
                ('Petr', 'Petrov', '550e8400-e29b-41d4-a716-446655440001', 200),
                ('Anna', 'Sidorova', '550e8400-e29b-41d4-a716-446655440003', 210),
                ('Maria', 'Smirnova', '550e8400-e29b-41d4-a716-446655440003', 200),
                ('Sergey', 'Kuznetsov', '550e8400-e29b-41d4-a716-446655440004', 200);

        </sql>
    </changeSet>
    <changeSet id="3" author="DadadoRon">
        <sql>
            CREATE TABLE patient_note (
                id BIGINT NOT NULL GENERATED BY DEFAULT AS IDENTITY,
                created_date_time timestamp NOT NULL,
                last_modified_date_time timestamp NOT NULL,
                created_by_user_id BIGINT NULL,
                last_modified_by_user_id BIGINT NULL,
                note varchar(4000) NULL,
                patient_id BIGINT NOT NULL,
                guid VARCHAR(255),


                CONSTRAINT patient_note_pkey PRIMARY KEY (id)
            );

        </sql>
    </changeSet>
</databaseChangeLog>